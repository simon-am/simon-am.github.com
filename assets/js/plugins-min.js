// onscreen - https://github.com/silvestreh
// docs     - http://silvestreh.github.io/onScreen/
(function(e){e.fn.onScreen=function(t){var n={container:window,direction:"vertical",toggleClass:null,doIn:null,doOut:null,tolerance:0,throttle:null,lazyAttr:null,lazyPlaceholder:"data:image/gif;base64,R0lGODlhEAAFAIAAAP///////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAAACwAAAAAEAAFAAACCIyPqcvtD00BACH5BAkJAAIALAAAAAAQAAUAgfT29Pz6/P///wAAAAIQTGCiywKPmjxUNhjtMlWrAgAh+QQJCQAFACwAAAAAEAAFAIK8urzc2tzEwsS8vrzc3tz///8AAAAAAAADFEiyUf6wCEBHvLPemIHdTzCMDegkACH5BAkJAAYALAAAAAAQAAUAgoSChLS2tIyKjLy+vIyOjMTCxP///wAAAAMUWCQ09jAaAiqQmFosdeXRUAkBCCUAIfkECQkACAAsAAAAABAABQCDvLq83N7c3Nrc9Pb0xMLE/P78vL68/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCEwkCnKGbegvQn4RjGMx8F1HxBi5Il4oEiap2DcVYlpZwQAIfkECQkACAAsAAAAABAABQCDvLq85OLkxMLE9Pb0vL685ObkxMbE/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCDwnCGHEcIMxPn4VAGMQNBx0zQEZHkiYNiap5RaBKG9EQAh+QQJCQAJACwAAAAAEAAFAIOEgoTMysyMjozs6uyUlpSMiozMzsyUkpTs7uz///8AAAAAAAAAAAAAAAAAAAAAAAAEGTBJiYgoBM09DfhAwHEeKI4dGKLTIHzCwEUAIfkECQkACAAsAAAAABAABQCDvLq85OLkxMLE9Pb0vL685ObkxMbE/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCAQSTmMEGaco8+UBSACwWBqHxKOJYd+q1iaXFoRRMbtEQAh+QQJCQAIACwAAAAAEAAFAIO8urzc3tzc2tz09vTEwsT8/vy8vrz8+vz///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAEIhBJWc6wJZAtJh3gcRBAaXiIZV2kiRbgNZbA6VXiUAhGL0QAIfkECQkABgAsAAAAABAABQCChIKEtLa0jIqMvL68jI6MxMLE////AAAAAxRoumxFgoxGCbiANos145e3DJcQJAAh+QQJCQAFACwAAAAAEAAFAIK8urzc2tzEwsS8vrzc3tz///8AAAAAAAADFFi6XCQwtCmAHbPVm9kGWKcEQxkkACH5BAkJAAIALAAAAAAQAAUAgfT29Pz6/P///wAAAAIRlI8SAZsPYnuJMUCRnNksWwAAOw==",debug:!1};t!=="remove"&&e.extend(n,t);return this.each(function(){function y(){e(r).off("scroll.onScreen resize.onScreen");e(window).off("resize.onScreen")}function b(){return g?v<c-n.tolerance&&s<v+p-n.tolerance:v<f-n.tolerance&&v>-p+n.tolerance}function w(){return g?v+(p-n.tolerance)<s||v>c-n.tolerance:v>f-n.tolerance||-p+n.tolerance>v}function E(){return g?m<h-n.tolerance&&o<m+d-n.tolerance:m<l-n.tolerance&&m>-d+n.tolerance}function S(){return g?m+(d-n.tolerance)<o||m>h-n.tolerance:m>l-n.tolerance||-d+n.tolerance>m}function x(){return i?!1:n.direction==="horizontal"?E():b()}function T(){return i?n.direction==="horizontal"?S():w():!1}function N(e,t,n){var r,i,s;return function(){i=arguments;s=!0;n=n||this;r||function(){if(s){e.apply(n,i);s=!1;r=setTimeout(arguments.callee,t)}else r=null}()}}var r=this,i=!1,s,o,u=e(this),a,f,l,c,h,p,d,v,m,g=e.isWindow(n.container);if(t==="remove"){y();return}var C=function(){!g&&e(n.container).css("position")==="static"&&e(n.container).css("position","relative");a=e(n.container);f=a.height();l=a.width();c=a.scrollTop()+f;h=a.scrollLeft()+l;p=u.outerHeight(!0);d=u.outerWidth(!0);if(g){var t=u.offset();v=t.top;m=t.left}else{var r=u.position();v=r.top;m=r.left}s=a.scrollTop();o=a.scrollLeft();if(n.debug){console.log("Container: "+n.container+"\n"+"Width: "+f+"\n"+"Height: "+l+"\n"+"Bottom: "+c+"\n"+"Right: "+h);console.log("Matched element: "+(u.attr("class")!==undefined?u.prop("tagName").toLowerCase()+"."+u.attr("class"):u.prop("tagName").toLowerCase())+"\n"+"Left: "+m+"\n"+"Top: "+v+"\n"+"Width: "+d+"\n"+"Height: "+p)}if(x()){n.toggleClass&&u.addClass(n.toggleClass);e.isFunction(n.doIn)&&n.doIn.call(u[0]);if(n.lazyAttr&&u.prop("tagName")==="IMG"){var y=u.attr(n.lazyAttr);if(y!==u.prop("src")){u.css({background:"url("+n.lazyPlaceholder+") 50% 50% no-repeat",minHeight:"5px",minWidth:"16px"});u.prop("src",y).load(function(){e(this).css({background:"none"})})}}i=!0}else if(T()){n.toggleClass&&u.removeClass(n.toggleClass);e.isFunction(n.doOut)&&n.doOut.call(u[0]);i=!1}};window.location.hash?N(C,50):C();n.throttle&&(C=N(C,n.throttle));e(n.container).on("scroll.onScreen resize.onScreen",C);g||e(window).on("resize.onScreen",C);typeof module=="object"&&module&&typeof module.exports=="object"?module.exports=jQuery:typeof define=="function"&&define.amd&&define("jquery-onscreen",[],function(){return jQuery})})}})(jQuery);